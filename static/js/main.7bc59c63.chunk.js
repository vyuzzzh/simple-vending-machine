(this["webpackJsonpsimple-vending-machine"]=this["webpackJsonpsimple-vending-machine"]||[]).push([[0],[,,,,,,,,,,function(e,a,t){e.exports=t(27)},,,,,function(e,a,t){},,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(3),u=t.n(c),o=(t(15),t(4)),l=(t(22),function(e){var a=e.products;return r.a.createElement("div",{className:"product-storage"},a.map((function(e){return r.a.createElement("div",{className:"product ".concat(e.available&&e.count?"available":""),key:e.name+e.brand},r.a.createElement("span",{className:"brand"},e.brand),r.a.createElement("span",null,e.name),r.a.createElement("span",{className:"price"},"Price:",e.price," ","R."),r.a.createElement("span",null,e.count?"Residue: ".concat(e.count):"The goods are over."),r.a.createElement("span",{className:"id"},"Id:",e.id))})))}),i=Object(n.forwardRef)((function(e,a){var t=e.handleChange;return r.a.createElement("div",{className:"money"},r.a.createElement("form",{onSubmit:t,className:"form"},r.a.createElement("label",{htmlFor:"input-money",className:"deposit"},"Insert money",r.a.createElement("br",null),r.a.createElement("input",{ref:a,autoComplete:"off",className:"input-money",name:"input-money",type:"text",placeholder:"take your money",pattern:"50|100|200|500|1000",title:"Available banknotes: 50, 100, 200, 500, or 1000 R.",required:!0})),r.a.createElement("span",null,"Available banknotes:",r.a.createElement("br",null),"50, 100, 200, 500 or 1000 R.",r.a.createElement("br",null),"The machine gives change",r.a.createElement("br",null),"in 1, 2, 5 and 10 R coins.")))})),s=Object(n.forwardRef)((function(e,a){var t=e.products,n=e.handleChange,c=t.filter((function(e){return e.available&&e.count})).map((function(e){return e.id})).join("|");return r.a.createElement("div",{className:"input-product"},r.a.createElement("form",{className:"form",onSubmit:n},r.a.createElement("label",{htmlFor:"product-id",className:"cash"},"Enter product id",r.a.createElement("br",null),r.a.createElement("input",{ref:a,autoComplete:"off",className:"product-id",name:"product-id",type:"text",placeholder:"enter id",pattern:c,title:"This product is not available. Please choose another one.",required:!0}))))})),d=function(e){var a=e.balance;return r.a.createElement("div",{className:"surrender"},r.a.createElement("span",null,a[10]?"10R: ".concat(a[10]," coins"):""),r.a.createElement("span",null,a[5]?"5R: ".concat(a[5]," coins"):""),r.a.createElement("span",null,a[2]?"2R: ".concat(a[2]," coins"):""),r.a.createElement("span",null,a[1]?"1R: ".concat(a[1]," coins"):""))},p=(t(23),function(e){var a=e.purchaseProduct,t=e.giveSurrender,n=e.setPurchaseProduct;return r.a.createElement("div",{className:"purchase"},r.a.createElement("div",{className:"".concat(a.brand?"purchase-product":""),onClick:function(){return function(){t(),n({});var e=document.querySelector(".input-money"),a=document.querySelector(".product-id");e.classList.remove("disabled"),a.classList.remove("disabled")}()},role:"button",tabIndex:"0"},r.a.createElement("span",null,a.brand),r.a.createElement("span",null,a.name)))}),m=(t(24),function(e){var a=e.purchaseProduct,t=e.balance,n=e.giveSurrender,c=e.setPurchaseProduct;return r.a.createElement("div",{className:"issuing"},r.a.createElement(d,{balance:t}),r.a.createElement(p,{purchaseProduct:a,giveSurrender:n,setPurchaseProduct:c}))}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return e.price<=a?e.available=!0:e.available=!1,e}))},E=function(e){if(e){var a={1:0,2:0,5:0,10:0};return[10,5,2,1].forEach((function(t){for(;e>=t;)e-=t,a[t]+=1})),a}},v=(t(25),function(e){var a=e.deposit,t=e.setDeposit,c=e.products,u=e.quantityChange,o=e.setPurchaseProduct,l=e.purchaseProduct,d=e.balance,p=e.giveSurrender,h=Object(n.useRef)(null),E=Object(n.useRef)(null);return r.a.createElement("div",{className:"payment-device"},r.a.createElement("span",{className:"deposit-view"},"Your deposit:"," ".concat(a," "),"R."),r.a.createElement(i,{ref:h,handleChange:function(e){e.preventDefault();var a=h.current,n=h.current.value;t(+n),a.classList.add("disabled"),a.value="",E.current.focus()}}),r.a.createElement(s,{ref:E,products:c,handleChange:function(e){e.preventDefault();var n=E.current,r=E.current.value,l=function(e,a){var t={products:[]};return t.products=e.map((function(e){return e.id===a&&(e.count-=1,t.purchaseProduct=e),e})),t}(c,+r),i=l.purchaseProduct,s=l.purchaseProduct.price,d=l.products;n.value="",n.classList.add("disabled"),n.blur(),o(i),u(d),p(a-s),t(0)}}),r.a.createElement(m,{purchaseProduct:l,balance:d,giveSurrender:p,setPurchaseProduct:o}))}),b=(t(26),Object(o.b)((function(e){return{products:e.changeReducer.products,deposit:e.changeReducer.deposit,balance:e.changeReducer.balance,purchaseProduct:e.changeReducer.purchaseProduct}}),(function(e){return{quantityChange:function(a){return e(function(e){return{type:"PRODUCT_CHANGE",products:e}}(a))},setDeposit:function(a){return e(function(e){return{type:"SET_DEPOSIT",deposit:e}}(a))},giveSurrender:function(a){return e(function(e){return{type:"GIVE_SURRENDER",deposit:e}}(a))},setPurchaseProduct:function(a){return e(function(e){return{type:"SET_PURCHASE_PRODUCT",purchaseProduct:e}}(a))}}}))((function(e){var a=e.products,t=e.deposit,n=e.purchaseProduct,c=e.balance;return r.a.createElement("div",{className:"vending-machine"},r.a.createElement(l,{products:a}),r.a.createElement(v,{deposit:t,setDeposit:e.setDeposit,quantityChange:e.quantityChange,setPurchaseProduct:e.setPurchaseProduct,purchaseProduct:n,products:a,balance:c,giveSurrender:e.giveSurrender}))}))),f=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=t(1),g=t(2),R={products:[{name:"Banana",brand:"Ecuador",price:150,count:2,id:1,available:!1},{name:"Energy bars",brand:"Sport",price:782,count:5,id:2,available:!1},{name:"\u0421hocolate",brand:"Snickers",price:46,count:10,id:3,available:!1},{name:"Soda",brand:"Coca-cola",price:85,count:6,id:4,available:!1},{name:"Chips",brand:"Lays",price:54,count:7,id:5,available:!1},{name:"\u0421hocolate",brand:"Nesquik",price:92,count:10,id:6,available:!1},{name:"Coffee",brand:"Starbuks",price:177,count:50,id:7,available:!1}],deposit:0,purchaseProduct:{},balance:{}},S=Object(P.b)({changeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0,t=a.products,n=a.deposit,r=a.purchaseProduct;switch(a.type){case"PRODUCT_CHANGE":return Object(g.a)({},e,{products:t});case"SET_DEPOSIT":return Object(g.a)({},e,{products:h(e.products,n),deposit:n});case"SET_PURCHASE_PRODUCT":return Object(g.a)({},e,{purchaseProduct:r});case"GIVE_SURRENDER":return Object(g.a)({},e,{balance:n?E(n):{}});default:return e}}}),N=Object(P.c)(S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));u.a.render(r.a.createElement(o.a,{store:N},r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.7bc59c63.chunk.js.map