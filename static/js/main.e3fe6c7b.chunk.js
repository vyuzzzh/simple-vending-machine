(this["webpackJsonpsimple-vending-machine"]=this["webpackJsonpsimple-vending-machine"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),u=a.n(c),o=(a(15),a(4)),s=(a(22),function(e){var t=e.products;return r.a.createElement("div",{className:"product-storage"},t.map((function(e){return r.a.createElement("div",{className:"product ".concat(e.available&&e.count?"available":""),key:e.name+e.brand},r.a.createElement("span",{className:"brand"},e.brand),r.a.createElement("span",null,e.name),r.a.createElement("span",{className:"price"},"Price:",e.price," ","R."),r.a.createElement("span",null,e.count?"Residue: ".concat(e.count):"The goods are over."),r.a.createElement("span",{className:"id"},"Id:",e.id))})))}),i=function(e){var t=e.setDeposit;return r.a.createElement("div",{className:"money"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.currentTarget.elements[0],n=document.querySelector(".product-id"),r=a.value;t(+r),a.classList.add("disabled"),a.value="",n.focus()},className:"form"},r.a.createElement("label",{htmlFor:"input-money",className:"deposit"},"Insert money",r.a.createElement("br",null),r.a.createElement("input",{autoComplete:"off",className:"input-money",name:"input-money",type:"text",placeholder:"take your money",pattern:"50|100|200|500|1000",title:"Available banknotes: 50, 100, 200, 500, or 1000 R."})),r.a.createElement("span",null,"Available banknotes:",r.a.createElement("br",null),"50, 100, 200, 500 or 1000 R.",r.a.createElement("br",null),"The machine gives change",r.a.createElement("br",null),"in 1, 2, 5 and 10 R coins.")))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return e.price<=t?e.available=!0:e.available=!1,e}))},d=function(e){if(e){var t={1:0,2:0,5:0,10:0};return[10,5,2,1].forEach((function(a){for(;e>=a;)e-=a,t[a]+=1})),t}},p=function(e){var t=e.products,a=e.quantityChange,n=e.deposit,c=e.setDeposit,u=e.setPurchaseProduct,o=e.giveSurrender,s=t.filter((function(e){return e.available&&e.count})).map((function(e){return e.id})).join("|");return r.a.createElement("div",{className:"input-product"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var r=e.currentTarget.elements[0],s=r.value,i=function(e,t){var a={products:[]};return a.products=e.map((function(e){return e.id===t&&(e.count-=1,a.purchaseProduct=e),e})),a}(t,+s);r.value="",r.classList.add("disabled");var l=i.purchaseProduct.price,d=i.purchaseProduct;u(d),a(i.products),o(n-l),c(0)}},r.a.createElement("label",{htmlFor:"product-id",className:"cash"},"Enter product id",r.a.createElement("br",null),r.a.createElement("input",{autoComplete:"off",className:"product-id",name:"product-id",type:"text",placeholder:"enter id",pattern:s,title:"This product is not available. Please choose another one."}))))},m=function(e){var t=e.balance;return r.a.createElement("div",{className:"surrender"},r.a.createElement("span",null,t[10]?"10R: ".concat(t[10]," coins"):""),r.a.createElement("span",null,t[5]?"5R: ".concat(t[5]," coins"):""),r.a.createElement("span",null,t[2]?"2R: ".concat(t[2]," coins"):""),r.a.createElement("span",null,t[1]?"1R: ".concat(t[1]," coins"):""))},v=(a(23),function(e){var t=e.purchaseProduct,a=e.giveSurrender,n=e.setPurchaseProduct;return r.a.createElement("div",{className:"purchase"},r.a.createElement("div",{className:"".concat(t.brand?"purchase-product":""),onClick:function(){return function(){a(),n({});var e=document.querySelector(".input-money"),t=document.querySelector(".product-id");e.classList.remove("disabled"),t.classList.remove("disabled")}()},role:"button",tabIndex:"0"},r.a.createElement("span",null,t.brand),r.a.createElement("span",null,t.name)))}),E=(a(24),function(e){var t=e.purchaseProduct,a=e.balance,n=e.giveSurrender,c=e.setPurchaseProduct;return r.a.createElement("div",{className:"issuing"},r.a.createElement(m,{balance:a}),r.a.createElement(v,{purchaseProduct:t,giveSurrender:n,setPurchaseProduct:c}))}),h=(a(25),function(e){var t=e.deposit,a=e.setDeposit,n=e.products,c=e.quantityChange,u=e.setPurchaseProduct,o=e.purchaseProduct,s=e.balance,l=e.giveSurrender;return r.a.createElement("div",{className:"payment-device"},r.a.createElement("span",{className:"deposit-view"},"Your deposit:"," ".concat(t," "),"R."),r.a.createElement(i,{deposit:t,setDeposit:a,quantityChange:c}),r.a.createElement(p,{products:n,quantityChange:c,deposit:t,setDeposit:a,setPurchaseProduct:u,giveSurrender:l}),r.a.createElement(E,{purchaseProduct:o,balance:s,giveSurrender:l,setPurchaseProduct:u}))}),b=(a(26),Object(o.b)((function(e){return{products:e.changeReducer.products,deposit:e.changeReducer.deposit,balance:e.changeReducer.balance,purchaseProduct:e.changeReducer.purchaseProduct}}),(function(e){return{quantityChange:function(t){return e(function(e){return{type:"PRODUCT_CHANGE",products:e}}(t))},setDeposit:function(t){return e(function(e){return{type:"SET_DEPOSIT",deposit:e}}(t))},giveSurrender:function(t){return e(function(e){return{type:"GIVE_SURRENDER",deposit:e}}(t))},setPurchaseProduct:function(t){return e(function(e){return{type:"SET_PURCHASE_PRODUCT",purchaseProduct:e}}(t))}}}))((function(e){var t=e.products,a=e.deposit,n=e.purchaseProduct,c=e.balance;return r.a.createElement("div",{className:"vending-machine"},r.a.createElement(s,{products:t}),r.a.createElement(h,{deposit:a,setDeposit:e.setDeposit,quantityChange:e.quantityChange,setPurchaseProduct:e.setPurchaseProduct,purchaseProduct:n,products:t,balance:c,giveSurrender:e.giveSurrender}))}))),f=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(1),g=a(2),S={products:[{name:"Banana",brand:"Ecuador",price:150,count:2,id:1,available:!1},{name:"Energy bars",brand:"Sport",price:782,count:5,id:2,available:!1},{name:"\u0421hocolate",brand:"Snickers",price:46,count:10,id:3,available:!1},{name:"Soda",brand:"Coca-cola",price:85,count:6,id:4,available:!1},{name:"Chips",brand:"Lays",price:54,count:7,id:5,available:!1},{name:"\u0421hocolate",brand:"Nesquik",price:92,count:10,id:6,available:!1},{name:"Coffee",brand:"Starbuks",price:177,count:50,id:7,available:!1}],deposit:0,purchaseProduct:{},balance:{}},y=Object(P.b)({changeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=t.products,n=t.deposit,r=t.purchaseProduct;switch(t.type){case"PRODUCT_CHANGE":return Object(g.a)({},e,{products:a});case"SET_DEPOSIT":return Object(g.a)({},e,{products:l(e.products,n),deposit:n});case"SET_PURCHASE_PRODUCT":return Object(g.a)({},e,{purchaseProduct:r});case"GIVE_SURRENDER":return Object(g.a)({},e,{balance:n?d(n):{}});default:return e}}}),N=Object(P.c)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({trace:!0}));u.a.render(r.a.createElement(o.a,{store:N},r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.e3fe6c7b.chunk.js.map